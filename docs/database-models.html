<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuthTuna üêü - Asynchronous Security Framework</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>

    <style>
        :root {
            --primary: #8b5cf6; /* Indigo-500 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #030712; /* Gray-950 */
        }
        /* Custom scrolling for content area */
        .doc-content-area::-webkit-scrollbar { width: 8px; }
        .doc-content-area::-webkit-scrollbar-thumb { background-color: #374151; border-radius: 4px; }
        .doc-content-area::-webkit-scrollbar-track { background: #1f2937; }

        /* Prose styling equivalent for generated content */
        .prose h1, .prose h2, .prose h3, .prose h4 {
            color: #f3f4f6; /* White */
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .prose h1 { font-size: 2.5rem; font-weight: 800; }
        .prose h2 { font-size: 1.75rem; font-weight: 700; border-bottom: 1px solid #374151; padding-bottom: 0.5rem; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; }
        .prose h4 { font-size: 1.1rem; font-weight: 600; color: #a5b4fc; }
        .prose p, .prose li { color: #d1d5db; line-height: 1.7; }
        .prose ul, .prose ol { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
        .prose a { color: #a5b4fc; text-decoration: none; }
        .prose a:hover { text-decoration: underline; }
        .prose code {
            background-color: #1f2937; /* Gray-800 */
            padding: 0.2rem 0.4rem;
            border-radius: 0.375rem;
            color: #facc15; /* Amber-400 */
            font-size: 0.875rem;
        }
        .prose pre {
            background-color: #111827; /* Gray-900 */
            border: 1px solid #374151;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .prose pre code {
            background: none;
            color: #e5e7eb; /* Gray-200 */
            padding: 0;
            font-size: 1rem;
        }
        .prose table { width: 100%; }
        .prose th { background-color: #1f2937; }
        .nav-link.active {
            background-color: var(--primary);
            color: white;
        }
    </style>
</head>
<body class="text-gray-200">

    <div class="flex h-screen overflow-hidden">

        <nav id="sidebar" class="w-64 bg-gray-900 p-6 border-r border-gray-800 flex-shrink-0 overflow-y-auto absolute md:relative transform -translate-x-full md:translate-x-0 transition-transform duration-200 ease-in-out z-30">
            <div class="sticky top-0 pb-6 bg-gray-900 z-10">
                <h1 class="text-3xl font-extrabold text-indigo-400">AuthTuna üêü</h1>
                <p class="text-sm text-gray-500 mt-1">v0.1.8 Docs</p>
            </div>

            <div class="space-y-2">
                <h2 class="text-lg font-semibold text-gray-400 mt-4 mb-2 uppercase tracking-wider">Fundamentals</h2>
                <a href="index.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Introduction & Setup
                </a>
                <a href="configuration.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Configuration (`Settings`)
                </a>
                <a href="core-managers.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Core Service Layer
                </a>
                <a href="database-models.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800 active">
                    Database Models
                </a>

                <h2 class="text-lg font-semibold text-gray-400 mt-6 mb-2 uppercase tracking-wider">FastAPI Integration</h2>
                <a href="dependencies.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Dependencies
                </a>
                <a href="permission-dependencies.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Role & Permission Checks
                </a>
                 <a href="rbac-management.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    RBAC Management
                </a>

                <h2 class="text-lg font-semibold text-gray-400 mt-6 mb-2 uppercase tracking-wider">Built-in Features</h2>
                <a href="auth-flows.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Authentication Flows
                </a>
                <a href="mfa.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    MFA & Social Login (SSO)
                </a>
                <a href="middleware-session.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    Middleware & Session Mgmt
                </a>
                 <a href="ui-dashboard.html" class="nav-link block p-2 rounded-lg transition-colors hover:bg-gray-800">
                    UI Dashboard
                </a>

            </div>
        </nav>

        <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden" onclick="toggleSidebar()"></div>

        <main class="flex-1 overflow-y-auto p-8 lg:p-12 doc-content-area">
             <button id="menu-button" class="md:hidden fixed top-4 right-4 bg-gray-800 p-2 rounded-lg z-40" onclick="toggleSidebar()">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
            <div id="content" class="prose max-w-4xl mx-auto">
                <h1>Database Models</h1>
                <p>AuthTuna uses a set of SQLAlchemy ORM models to represent users, roles, permissions, and other security-related data. Understanding these models is key to extending AuthTuna's functionality and building custom queries.</p>

                <h2>User</h2>
                <p>The `User` model is the core of the system, representing an individual user account.</p>
                <ul>
                    <li>`id`: A unique identifier for the user.</li>
                    <li>`username`: The user's username. This is case-insensitive.</li>
                    <li>`email`: The user's email address. This is case-insensitive.</li>
                    <li>`is_active`: A boolean indicating whether the user's account is active.</li>
                    <li>`password_hash`: The user's hashed password.</li>
                    <li>`email_verified`: A boolean indicating whether the user's email address has been verified.</li>
                    <li>`requires_password_reset`: A boolean indicating whether the user is required to reset their password.</li>
                    <li>`mfa_enabled`: A boolean indicating whether the user has multi-factor authentication enabled.</li>
                    <li>`created_at`: The timestamp when the user's account was created.</li>
                    <li>`last_login`: The timestamp of the user's last login.</li>
                </ul>

                <h2>Role</h2>
                <p>The `Role` model represents a role that can be assigned to a user.</p>
                <ul>
                    <li>`id`: A unique identifier for the role.</li>
                    <li>`name`: The name of the role.</li>
                    <li>`description`: A description of the role.</li>
                    <li>`system`: A boolean indicating whether the role is a system role.</li>
                    <li>`level`: An integer representing the role's level in the hierarchy.</li>
                </ul>

                <h2>Permission</h2>
                <p>The `Permission` model represents a permission that can be granted to a role.</p>
                <ul>
                    <li>`id`: A unique identifier for the permission.</li>
                    <li>`name`: The name of the permission.</li>
                    <li>`description`: A description of the permission.</li>
                    <li>`system`: A boolean indicating whether the permission is a system permission.</li>
                </ul>

                <h2>Session</h2>
                <p>The `Session` model represents an active user session.</p>
                <ul>
                    <li>`session_id`: A unique identifier for the session.</li>
                    <li>`user_id`: The ID of the user who owns the session.</li>
                    <li>`region`: The region where the session was initiated.</li>
                    <li>`device`: The device where the session was initiated.</li>
                    <li>`active`: A boolean indicating whether the session is active.</li>
                    <li>`ctime`: The timestamp when the session was created.</li>
                    <li>`mtime`: The timestamp when the session was last modified.</li>
                    <li>`etime`: The timestamp when the session will expire.</li>
                    <li>`e_abs_time`: The absolute expiry time of the session.</li>
                    <li>`create_ip`: The IP address where the session was created.</li>
                    <li>`last_ip`: The last IP address used for the session.</li>
                    <li>`random_string`: A random string used to mitigate replay attacks.</li>
                    <li>`previous_random_strings`: A list of previous random strings.</li>
                </ul>

                <h2>Token</h2>
                <p>The `Token` model represents a token that can be used for various purposes, such as email verification or password reset.</p>
                <ul>
                    <li>`id`: A unique identifier for the token.</li>
                    <li>`purpose`: The purpose of the token.</li>
                    <li>`user_id`: The ID of the user who owns the token.</li>
                    <li>`ctime`: The timestamp when the token was created.</li>
                    <li>`etime`: The timestamp when the token will expire.</li>
                    <li>`used`: A boolean indicating whether the token has been used.</li>
                    <li>`new_gen_id`: The ID of the new token that was generated to replace this one.</li>
                </ul>
            </div>
        </main>
    </div>
    <script>
        hljs.highlightAll();
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('-translate-x-full');
            sidebar.classList.toggle('translate-x-0');
            overlay.classList.toggle('hidden');
        }
    </script>
</body>
</html>
